<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timetable Creation</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: left;
            justify-content: left;
            height: 100vh;
            font-size: 12px; /* Adjust the font size */
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: left;
            justify-content: left;
            box-sizing: border-box;
            max-width: 1200px;
            width: 100%;
            height: 80vh;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-gap: 10px;
            margin-bottom: 20px;
        }

        .grid-item,
        .small-box {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
            font-size: 12px; /* Adjust the font size */
        }

        .small-box {
            width: 100%;
            box-sizing: border-box;
            padding: 5px;
            font-size: 12px;
        }

        .table-container.right-content {
            width: 100%;
            box-sizing: border-box;
            margin-top: 20px;
            filter: grayscale(100%);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #000; /* Black background for table header */
            color: white;
        }

        tr:nth-child(even) {
            background-color: #fff; /* White background for even rows */
        }

        #timetable td {
            font-size: 14px;
        }

        .small-button {
            padding: 5px; /* Adjust padding for smaller buttons */
        }

        button {
            background-color: #000; /* Black background for buttons */
            color: white;
            border: none;
            padding: 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 10px;
        }

        button:hover {
            background-color: #333; /* Darker background on hover */
        }
    </style>

</head>

<body>

    <div class="table-container right-content">
        <div class="grid-container">
            <!-- First row with 4 boxes -->
            <div class="grid-item">
                <label for="day">Day:</label>
                <select id="day" name="day">
                    <option value="monday">Monday</option>
                    <option value="tuesday">Tuesday</option>
                    <option value="wednesday">Wednesday</option>
                    <option value="thursday">Thursday</option>
                    <option value="friday">Friday</option>
                    <option value="saturday">Saturday</option>
                </select>
            </div>
            <div class="grid-item">
                <label for="startTiming">Start Timing:</label>
                <input type="time" id="startTimingText">
            </div>

            <!-- End Timing -->
            <div class="grid-item">
                <label for="endTiming">End Timing:</label>
                <input type="time" id="endTimingText">
            </div>

            <div class="grid-item">
                <label for="class">Class:</label>
                <select id="class" name="class">
                    <option value="nursery">Nursery</option>
                    <option value="lkg">LKG</option>
                    <option value="ukg">UKG</option>
                    <option value="1st">1st</option>
                    <option value="2nd">2nd</option>
                    <option value="3rd">3rd</option>
                    <option value="4th">4th</option>
                    <option value="5th">5th</option>
                    <option value="6th">6th</option>
                    <option value="7th">7th</option>
                    <option value="8th">8th</option>
                    <option value="9th">9th</option>
                    <option value="10th">10th</option>
                    <option value="11th">11th</option>
                    <option value="12th">12th</option>
                </select>
            </div>
        </div>

        <!-- Second row with 4 boxes -->
        <div class="grid-container">
            <div class="grid-item">
                <label for="teacher">Teacher:</label>
                <select id="teacher" name="teacher">
                    <option value="Suman Sharma">Suman Sharma</option>
                    <option value="Rekha">Rekha</option>
                    <option value="Lajwanti">Lajwanti</option>
                    <option value="Mamta">Mamta</option>
                    <option value="Jyoti Chouchan">Jyoti Chouchan</option>
                    <option value="Jyoti Pareek">Jyoti Pareek</option>
                    <option value="Neha">Neha</option>
                    <option value="Usha">Usha</option>
                    <option value="Manipriya">Manipriya</option>
                    <option value="Reena">Reena</option>
                </select>
            </div>

            <div class="grid-item">
                <label for="subject">Subject:</label>
                <select id="subject" name="subject">
                    <option value="math">Math</option>
                    <option value="science">Science</option>
                    <option value="sst">S.S.T</option>
                    <option value="english">English</option>
                    <option value="hindi">Hindi</option>
                    <option value="sanskrit">Sanskrit</option>
                    <option value="gk">GK</option>
                    <option value="computer">Computer</option>
                    <option value="Physics">Physics</option>
                    <option value="chemistry">Chemistry</option>
                </select>
            </div>

            <div class="grid-item grid-item-small">
                <label for="period">Period:</label>
                <select id="period" name="period" class="small-box">
                    <option value="1">1st Period</option>
                    <option value="2">2nd Period</option>
                    <option value="3">3rd Period</option>
                    <option value="4">4th Period</option>
                    <option value="5">5th Period</option>
                    <option value="6">6th Period</option>
                    <option value="7">7th Period</option>
                    <option value="8">8th Period</option>
                    <option value="9">9th Period</option>
                    <option value="10">10th Period</option>
                </select>
            </div>

            <div class="grid-item grid-item-small">
                <label for="section">Section:</label>
                <select id="section" name="section" class="small-box">
                    <option value="section1">Section 1</option>
                    <option value="section2">Section 2</option>
                    <option value="section3">Section 3</option>
                    <option value="section4">Section 4</option>
                    <option value="section5">Section 5</option>
                    <option value="section6">Section 6</option>
                </select>
            </div>
        </div>
        <form>
            <button type="button" onclick="addTimetableEntry()">Add Entry</button>
            <button type="button" onclick="clearTimetable()">Clear</button>
        </form>
        <div class="table-container">
            <table id="timetable">
                <tr>
                    <th>Day</th>
                    <th> Start Time</th>
                    <th>End Time</th>
                    <th>Class</th>
                    <th>Teacher</th>
                    <th>Subject</th>
                    <th>Period</th>
                    <th>Section</th>
                </tr>
            </table>
            <button type="button" onclick="downloadTimetable()">Download</button>
        </div>
    </div>

<script>
    var timetableData = [];

    function addTimetableEntry() {
        var day = document.getElementById("day").value;
        var startTiming = document.getElementById("startTimingText").value;
        var endTiming = document.getElementById("endTimingText").value;
        var selectedClass = document.getElementById("class").value;
        var selectedTeacher = document.getElementById("teacher").value;
        var selectedSubject = document.getElementById("subject").value;
        var selectedPeriod = document.getElementById("period").value;
        var selectedSection = document.getElementById("section").value;

        // Check if any field is empty
        if (
            !day ||
            !startTiming ||
            !endTiming ||
            !selectedClass ||
            !selectedTeacher ||
            !selectedSubject ||
            !selectedPeriod
        ) {
            alert("Please fill in all fields before adding the entry.");
            return;
        }

        // Check for duplicate entries
        if (isDuplicateEntry(day, startTiming, endTiming, selectedTeacher)) {
            alert("Duplicate entry found. Please choose different options.");
            return;
        }

        // Add entry to the data array
        var entry = {
            day: day,
            startTiming: startTiming,
            endTiming: endTiming,
            class: selectedClass,
            teacher: selectedTeacher,
            subject: selectedSubject,
            period: selectedPeriod,
            section: selectedSection || "N/A"
        };

        timetableData.push(entry);

        // Update the table
        updateTimetableTable();

        // Optional: Clear the form fields after adding the entry
        clearFormFields();
    }

        
        function isDuplicateEntry(day, startTiming, endTiming, teacher) {
            // Check if the entry already exists in the timetableData array
            return timetableData.some(entry =>
                entry.day === day &&
                entry.startTiming === startTiming &&
                entry.endTiming === endTiming &&
                entry.teacher === teacher
            );
        }
        
        function updateTimetableTable() {
            var table = document.getElementById("timetable");
        
            // Clear existing rows
            while (table.rows.length > 1) {
                table.deleteRow(1);
            }
        
            // Add rows based on timetableData
            timetableData.forEach(entry => {
                var row = table.insertRow(-1);
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                var cell3 = row.insertCell(2);
                var cell4 = row.insertCell(3);
                var cell5 = row.insertCell(4);
                var cell6 = row.insertCell(5);
                var cell7 = row.insertCell(6);
                var cell8 = row.insertCell(7);
        
                cell1.innerHTML = entry.day;
                cell2.innerHTML = entry.startTiming;
                cell3.innerHTML = entry.endTiming;
                cell4.innerHTML = entry.class;
                cell5.innerHTML = entry.teacher;
                cell6.innerHTML = entry.subject;
                cell7.innerHTML = entry.period;
                cell8.innerHTML = entry.section;
            });
        }
        
        function clearFormFields() {
            document.getElementById("day").value = "";
            document.getElementById("startTimingText").value = "";
            document.getElementById("endTimingText").value = "";
            document.getElementById("class").value = "";
            document.getElementById("teacher").value = "";
            document.getElementById("subject").value = "";
            document.getElementById("period").value = "";
            document.getElementById("section").value = "";
        }
        
        function downloadTimetable() {
            var table = document.getElementById("timetable");
        
            // Create a CSV content
            var csvContent = "data:text/csv;charset=utf-8,";
            for (var i = 0; i < table.rows.length; i++) {
                var rowData = [];
                for (var j = 0; j < table.rows[i].cells.length; j++) {
                    rowData.push(table.rows[i].cells[j].innerHTML);
                }
                csvContent += rowData.join(",") + "\n";
            }
        
            var blob = new Blob([csvContent], { type: "text/csv;charset=utf-8" });
        
            var a = document.createElement("a");
            a.href = URL.createObjectURL(blob);
            a.download = "timetable.csv";
            a.textContent = "Download Timetable"
        
            document.body.appendChild(a);
        
            a.click();
        
            document.body.removeChild(a);
        }
        
        function clearTimetable() {
            
            timetableData = [];

            updateTimetableTable();
        }
    </script>
</body>

</html>
